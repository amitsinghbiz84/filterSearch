"use strict";let prodList=[],productEndPont=window.location.origin+"/src/data/products.json";const init=()=>{void 0!==window.localStorage.getItem("productList")&&null!==window.localStorage.getItem("productList")&&""!==window.localStorage.getItem("productList")?(prodList=JSON.parse(window.localStorage.getItem("productList")),renderPlp(prodList)):fetch(productEndPont).then(response=>response.json()).then(json=>{console.log(json),prodList=json,window.localStorage.setItem("productList",JSON.stringify(prodList)),renderPlp(prodList)}),document.getElementById("plpfilter").addEventListener("change",filterPlp),document.getElementById("changeView").addEventListener("click",toggleView)},cardGenerator=product=>`\n    <div class="card" id="${product._id}">\n        <span class="card__fav ${product.isFav}"></span>\n        <a href="${product.url}">                            \n            <picture>\n                <source srcset="${product.picture}" media="(min-width: 1200px)">\n                <source srcset="${product.picture}" media="(min-width: 992px)">\n                <source srcset="${product.picture}" media="(max-width: 991px)">\n                <img src="${product.picture}" alt="image Alt"/>\n            </picture>                \n            <div class="card__details">\n                <h3>${product.name}</h3>\n                <p>${product.size} <span class="card__details--rating star${product.rating}" title="${product.rating}">${product.rating}</span></p>\n                <p class="card__price"><strong>${product.price}</strong> <del>${void 0===product.oldPrice?"":`${product.oldPrice}`}</del><span>${void 0===product.savings?"":`You save ${product.savings}`}</span></p>\n            </div>\n        </a>\n      </div>`,renderPlp=prodList=>{let cardsMarkup=prodList.map(cardGenerator).join("");document.querySelector(".plp__cardcontainer").innerHTML=cardsMarkup,document.getElementsByClassName("plp__cardcount")[0].innerHTML=prodList.length},filterPlp=e=>{let filteredProducts=-1===parseInt(e.currentTarget.value)?prodList:prodList.filter(product=>product.rating===parseInt(e.currentTarget.value));renderPlp(filteredProducts)},toggleView=()=>{let plpClass=document.querySelector("#viewChange").classList,gridLink=document.querySelector("#grid"),listLink=document.querySelector("#list");plpClass.contains("list")?(plpClass.remove("list"),gridLink.classList.add("active"),listLink.classList.remove("active")):(plpClass.add("list"),listLink.classList.add("active"),gridLink.classList.remove("active"))};void 0!==window.localStorage.getItem("productList")&&null!==window.localStorage.getItem("productList")&&""!==window.localStorage.getItem("productList")?(prodList=JSON.parse(window.localStorage.getItem("productList")),renderPlp(prodList)):fetch(productEndPont).then(response=>response.json()).then(json=>{console.log(json),prodList=json,window.localStorage.setItem("productList",JSON.stringify(prodList)),renderPlp(prodList)}),document.getElementById("plpfilter").addEventListener("change",filterPlp),document.getElementById("changeView").addEventListener("click",toggleView);
//# sourceMappingURL=../../path/to/sourcemap.map